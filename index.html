<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Force desktop viewport and show message on small screens -->
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Financial Statement Analysis</title>
    <link rel="stylesheet" href="styles.css">

    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/light.css">
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/translucent.css">
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/shift-away.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div id="desktop-only-message">
        <div class="desktop-message-box">
            <div class="desktop-message-icon" aria-hidden="true">
                <!-- Desktop SVG Icon -->
                <svg width="56" height="56" viewBox="0 0 56 56" fill="none">
                  <rect x="6" y="10" width="44" height="30" rx="4" fill="#4f8cff" fill-opacity="0.18"/>
                  <rect x="10" y="14" width="36" height="22" rx="2" fill="#4f8cff"/>
                  <rect x="18" y="40" width="20" height="4" rx="2" fill="#a6e3e9"/>
                  <circle cx="28" cy="42" r="1.5" fill="#414345"/>
                </svg>
            </div>
            <div class="desktop-message-title">
                Desktop Mode Only
            </div>
            <div class="desktop-message-text">
                This website is only available in <b>desktop mode</b>.<br>
                Please open on a device with a larger screen<br>
                <span style="color:#ffc640;">or enable desktop mode in your browser settings.</span>
            </div>
        </div>
    </div>
    
    <header>
    <h1><span id="web_name_tip">Financial Statement Analysis</span></h1>
    <div class="subtitle"><span id="subtitle_tip">Made by Abhinav Raj (MBA F.T)</span></div>
    </header>

    <main>
        <section id="income-statement">
            <h2 style="text-align:center; font-size: 3rem; color: #fffde7; margin-top: 5rem;"><span id="income_statement_tip">Income Statement</span></h2>
            <div class="t-account-container">
                <div class="t-account">
                    <div class="t-account-header">
                        <span id="trading_account_tip">Trading Account</span>
                    </div>
                    <div class="t-account-body">
                        <div class="t-account-side t-account-debit">
                            <h3><span id="debit_side_tip">Debit (Dr.)</span></h3>

                            <label><span id="opening_stock_tip">Opening Stock</span> <input type="number" id="openingStock" value="0"></label>

                            <label><span id="purchases_tip">Purchases</span> <input type="number" id="purchases" value="0"></label>

                            <label><span id="purchase_returns_tip">Purchase Returns</span> <input type="number" id="purchaseReturns" value="0"></label>

                            <label><span id="direct_wages_tip">Direct Wages</span> <input type="number" id="directWages" value="0"></label>

                            <label><span id="carriage_inwards_tip">Carriage Inwards</span> <input type="number" id="carriageInwards" value="0"></label>

                            <label><span id="power_fuel_tip">Power & Fuel</span> <input type="number" id="powerFuel" value="0"></label>

                            <label><span id="other_direct_expenses_tip">Other Direct Expenses</span> <input type="number" id="otherDirectExpenses" value="0"></label>

                            <div class="computed-term direct-expenses">
                                <span id="total_direct_expenses_tip">Total Direct Expenses</span>
                                <input type="number" id="totalDirectExpenses" value="0" readonly>
                            </div>
                            <div class="computed-term net-purchases">
                                <span id="net_purchases_tip">Net Purchases</span>
                                <input type="number" id="netPurchases" value="0" readonly>
                            </div>
                        </div>

                        <div class="t-account-side t-account-credit">
                            <h3><span id="credit_side_tip">Credit (Cr.)</span></h3>

                            <label><span id="sales_tip">Sales</span> <input type="number" id="sales" value="0"></label>

                            <label><span id="sales_returns_tip">Sales Returns</span> <input type="number" id="salesReturns" value="0"></label>

                            <label><span id="closing_stock_tip">Closing Stock</span> <input type="number" id="closingStock" value="0"></label>

                            <div class="computed-term net-sales">
                                <span id="net_sales_tip">Net Sales</span>
                                <input type="number" id="netSales" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="computed-term cogs">
                        <span id="cogs_tip">Cost of Goods Sold (COGS)</span>
                        <input type="number" id="cogs" value="0" readonly>
                    </div>

                    <div class="computed-term gross-profit">
                        <span id="gross_profit_tip">Gross Profit</span>
                        <input type="number" id="grossProfit" value="0" readonly>
                    </div>
                </div>
                <div class="t-account">
                    <div class="t-account-header">
                        <span id="profit_loss_tip">Profit & Loss Account</span>
                    </div>

                    <div class="t-account-body">
                        <div class="t-account-side t-account-debit">
                            <h3><span id="pl_debit_tip">Debit (Dr.)</span></h3>

                            <label><span id="salaries_tip">Salaries</span> <input type="number" id="salaries" value="0"></label>

                            <label><span id="rent_tip">Rent, Rates & Taxes</span> <input type="number" id="rent" value="0"></label>

                            <label><span id="utilities_tip">Printing & Stationery</span> <input type="number" id="printingStationery" value="0"></label>

                            <label><span id="depreciation_tip">Depreciation</span> <input type="number" id="depreciation" value="0"></label>

                            <label><span id="insurance_tip">Insurance</span> <input type="number" id="insurance" value="0"></label>

                            <label><span id="postage_telephone_tip">Postage & Telephone</span> <input type="number" id="postageTelephone" value="0"></label>

                            <label><span id="advertising_selling_tip">Advertising & Selling Expenses</span> <input type="number" id="advertisingSelling" value="0"></label>

                            <label><span id="carriage_outwards_tip">Carriage Outwards</span> <input type="number" id="carriageOutwards" value="0"></label>

                            <label><span id="discount_allowed_tip">Discount Allowed</span> <input type="number" id="discountAllowed" value="0"></label>

                            <label><span id="bad_debts_tip">Bad Debts</span> <input type="number" id="badDebts" value="0"></label>

                            <label><span id="provision_doubtful_debts_tip">Provision for Doubtful Debts</span> <input type="number" id="provisionDoubtfulDebts" value="0"></label>

                            <label><span id="interest_paid_tip">Interest Paid</span> <input type="number" id="interestPaid" value="0"></label>

                            <label><span id="other_indirect_expenses_tip">Other Indirect Expenses</span> <input type="number" id="otherIndirectExpenses" value="0"></label>

                            <div class="computed-term indirect-expenses">
                                <span id="total_indirect_tip">Total Indirect Expenses</span>
                                <input type="number" id="totalIndirectExpenses" value="0" readonly>
                            </div>
                        </div>
                        <div class="t-account-side t-account-credit">

                            <h3><span id="credit_tip"></span>Credit (Cr.)</h3>

                            <label><span id="discount_received_tip">Discount Received</span> <input type="number" id="discountReceived" value="0"></label>

                            <label><span id="commission_received_tip">Commission Received</span> <input type="number" id="commissionReceived" value="0"></label>

                            <label><span id="interest_received_tip">Interest Received</span> <input type="number" id="interestReceived" value="0"></label>

                            <label><span id="dividend_income_tip">Dividend Income</span> <input type="number" id="dividendIncome" value="0"></label>

                            <label><span id="rent_received_tip">Rent Received</span> <input type="number" id="rentReceived" value="0"></label>

                            <label><span id="other_incomes_tip">Other Incomes</span> <input type="number" id="otherIncomes" value="0"></label>

                        </div>
                    </div>
                    <div class="computed-term operating-profit">
                        <span id="operating_profit_tip">Operating Profit</span>
                        <input type="number" id="operatingProfit" value="0" readonly>
                    </div>
                    <div class="computed-term net-profit">
                        <span id="net_profit_tip">Net Profit</span>
                        <input type="number" id="netProfit" value="0" readonly>
                    </div>
                </div>
            </div>
            <div style="display: flex; justify-content: center; gap: 1.5rem; margin-top: 2rem;">
                <button id="analyseBtn" class="button">Analyse Income Statement</button>
            </div>
        </section>
        <!-- dashboard page -->
        <section id="dashboard" style="display:none;">
            <h2 style="text-align:center;font-size:3rem; margin-top:10rem;">Financial Dashboard</h2>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3><span id="net_sales_tip">Net Sales</span></h3>
                    <div id="dashNetSales" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="net_purchases_tip">Net Purchases</span></h3>
                    <div id="dashNetPurchases" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="total_direct_expenses_tip">Total Direct Expenses</span></h3>
                    <div id="dashTotalDirectExpenses" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="cogs_tip">COGS</span></h3>
                    <div id="dashCOGS" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="gross_profit_tip">Gross Profit</span></h3>
                    <div id="dashGrossProfit" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="total_indirect_tip">Total Indirect Expenses</span></h3>
                    <div id="dashTotalIndirectExpenses" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="operating_profit_tip">Operating Profit</span></h3>
                    <div id="dashOperatingProfit" class="dashboard-value"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="net_profit_tip">Net Profit</span></h3>
                    <div id="dashNetProfit" class="dashboard-value"></div>
                </div>
            </div>
            <h2 style="text-align:center;font-size:3rem; margin-top:5rem;"><span id="profitability_ratios_tip">Profitability Ratios</span></h2>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3><span id="gross_profit_ratio_tip">Gross Profit Ratio</span></h3>
                    <div id="dashGrossProfitRatio" class="dashboard-value"></div>
                    <div class="formula">Gross Profit % = (Gross Profit / Net Sales) * 100</div>
                    <div id="dashGrossProfitRatioAnalysis" class="dashboard-analysis"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="operating_profit_ratio_tip">Operating Profit Ratio</span></h3>
                    <div id="dashOperatingProfitRatio" class="dashboard-value"></div>
                    <div class="formula">Operating Profit % = (Operating Profit / Net Sales) * 100</div>
                    <div id="dashOperatingProfitRatioAnalysis" class="dashboard-analysis"></div>
                </div>
                <div class="dashboard-card">
                    <h3><span id="net_profit_ratio_tip">Net Profit Ratio</span></h3>
                    <div id="dashNetProfitRatio" class="dashboard-value"></div>
                    <div class="formula">Net Profit % = (Net Profit / Net Sales) * 100</div>
                    <div id="dashNetProfitRatioAnalysis" class="dashboard-analysis"></div>
                </div>
            </div>
            <div style="text-align:center; margin:2rem;">
                <button id="backBtn" class="button">Back</button>
            </div>
        </section>
        
        <section id="balance-sheet" style="margin-top:10rem;">
            <h2 style="text-align:center; font-size: 4rem; color: #fffde7;"><span id="balance_sheet_tip">Balance Sheet</span></h2>

            <div class="balance-sheet-frame">
                <div class="balance-sheet-t">
                    <!-- Liabilities & Equity Side -->
                    <div class="balance-sheet-side liabilities">
                        <h3><span id="liabilities_equity_tip">Liabilities & Equity</span></h3>

                        <div class="bs-category capital">
                            <div class="bs-category-title">Capital & Reserves</div>

                            <label><span id="capital_tip">Capital</span> <input type="number" id="bsCapital" value="0"></label>

                            <label><span id="reserves_tip">Reserves & Surplus</span> <input type="number" id="bsReserves" value="0"></label>

                            <label><span id="drawings_tip">Drawings</span> <input type="number" id="bsDrawings" value="0"></label>

                            <div class="bs-subtotal" id="bsNetCapital">Net Capital: <span>0</span></div>
                        </div>

                        <div class="bs-category longterm">
                            <div class="bs-category-title">Long-term Debts</div>

                            <label><span id="debentures_tip">Debentures</span> <input type="number" id="bsDebentures" value="0"></label>

                            <label><span id="secured_loans_tip">Secured Loans</span> <input type="number" id="bsSecuredLoans" value="0"></label>

                            <label><span id="unsecured_loans_tip">Unsecured Loans</span> <input type="number" id="bsUnsecuredLoans" value="0"></label>

                            <div class="bs-subtotal" id="bsTotalLongterm">Total Long-term Debts: <span>0</span></div>
                        </div>
                        <div class="bs-category currentliab">
                            <div class="bs-category-title">Current Liabilities</div>

                            <label><span id="creditors_tip">Sundry Creditors</span> <input type="number" id="bsCreditors" value="0"></label>

                            <label><span id="bills_payable_tip">Bills Payable</span> <input type="number" id="bsBillsPayable" value="0"></label>

                            <label><span id="outstanding_expenses_tip">Outstanding Expenses</span> <input type="number" id="bsOutstandingExpenses" value="0"></label>

                            <label><span id="bank_overdraft_tip">Bank Overdraft</span> <input type="number" id="bsBankOverdraft" value="0"></label>

                            <label><span id="short_term_loans_tip">Short-term Loans</span> <input type="number" id="bsShortTermLoans" value="0"></label>

                            <label><span id="provision_tax_tip">Provision for Taxation</span> <input type="number" id="bsProvisionTax" value="0"></label>

                            <label><span id="other_current_liabilities_tip">Other Current Liabilities</span> <input type="number" id="bsOtherCurrentLiab" value="0"></label>

                            <div class="bs-subtotal" id="bsTotalCurrentLiab">Total Current Liabilities: <span>0</span></div>
                        </div>
                    </div>
                    <!-- Assets Side -->
                    <div class="balance-sheet-side assets">
                        <h3><span id="assets_tip">Assets</span></h3>
                        <div class="bs-category fixed">
                            <div class="bs-category-title">Fixed Assets</div>

                            <label><span id="land_buildings_tip">Land & Buildings</span> <input type="number" id="bsLandBuildings" value="0"></label>

                            <label><span id="plant_machinery_tip">Plant & Machinery</span> <input type="number" id="bsPlantMachinery" value="0"></label>

                            <label><span id="furniture_fixtures_tip">Furniture & Fixtures</span> <input type="number" id="bsFurniture" value="0"></label>

                            <label><span id="vehicles_tip">Vehicles</span> <input type="number" id="bsVehicles" value="0"></label>

                            <label><span id="office_equipment_tip">Office Equipment</span> <input type="number" id="bsOfficeEquip" value="0"></label>

                            <label><span id="intangible_assets_tip">Intangible Assets</span> <input type="number" id="bsIntangible" value="0"></label>

                            <label><span id="long_term_investments_tip">Long-term Investments</span> <input type="number" id="bsLongTermInvest" value="0"></label>

                            <div class="bs-subtotal" id="bsTotalFixed">Total Fixed Assets: <span>0</span></div>
                        </div>
                        <div class="bs-category currentassets">
                            <div class="bs-category-title" id="current_assets_tip">Current Assets</div>

                            <label><span id="inventory_tip">Inventory (Closing Stock)</span> <input type="number" id="bsInventory" value="0"></label>

                            <label><span id="sundry_debtors_tip">Sundry Debtors</span> <input type="number" id="bsDebtors" value="0"></label>

                            <label><span id="bills_receivable_tip">Bills Receivable</span> <input type="number" id="bsBillsReceivable" value="0"></label>

                            <label><span id="cash_in_hand_tip">Cash in Hand</span> <input type="number" id="bsCashHand" value="0"></label>

                            <label><span id="cash_at_bank_tip">Cash at Bank</span> <input type="number" id="bsCashBank" value="0"></label>

                            <label><span id="prepaid_expenses_tip">Prepaid Expenses</span> <input type="number" id="bsPrepaid" value="0"></label>

                            <label><span id="accrued_income_tip">Accrued Income</span> <input type="number" id="bsAccruedIncome" value="0"></label>

                            <label><span id="short_term_investments_tip">Short-term Investments</span> <input type="number" id="bsShortTermInvest" value="0"></label>

                            <div class="bs-subtotal" id="bsTotalCurrentAssets">Total Current Assets: <span>0</span></div>
                        </div>
                    </div>
                </div>
                <div class="bs-totals-row">
                    <div class="bs-total-liab">
                        <span id="total_liabilities_tip">Total Liabilities & Equity</span>
                        <input type="number" id="bsTotalLiabilities" value="0" readonly>
                    </div>
                    <div class="bs-total-assets">
                        <span id="total_assets_tip">Total Assets</span>
                        <input type="number" id="bsTotalAssets" value="0" readonly>
                    </div>
                </div>
            </div>
            <div style="display: flex; justify-content: center; margin-top: 2rem; margin-bottom: 5rem;">
                <button id="analyseBalanceSheetBtn" class="button">Analyse Balance Sheet</button>
            </div>
        </section>

        <section id="bs-ratio-dashboard" style="display:none;">
            <h2 style="text-align:center; font-size:3rem; margin-top:15rem;"><span id="liquidity_ratios_tip">Liquidity Ratios</span></h2>

            <div class="liquidity-grid">

                <div class="liquidity-card" id="currentRatioCard">
                    <div class="liquidity-title"><span id="current_ratio_tip">Current Ratio</span></div>
                    <div class="liquidity-value" id="currentRatioValue"></div>
                    <div class="formula">Current Ratio = Current Assets / Current Liabilities</div>
                    <div class="liquidity-analysis" id="currentRatioAnalysis"></div>
                </div>

                <div class="liquidity-card" id="quickRatioCard">
                    <div class="liquidity-title"><span id="quick_ratio_tip">Quick Ratio</span></div>
                    <div class="liquidity-value" id="quickRatioValue"></div>
                    <div class="formula">Quick Ratio = Quick Assets / Current Liabilities<hr>*Quick Assets = Current Assets - Inventory - Prepaid</div>
                    <div class="liquidity-analysis" id="quickRatioAnalysis"></div>
                </div>

                <div class="liquidity-card" id="cashRatioCard">
                    <div class="liquidity-title"><span id="cash_ratio_tip">Cash Ratio</span></div>
                    <div class="liquidity-value" id="cashRatioValue"></div>
                    <div class="formula">Cash Ratio = Cash Assets / Current Liabilities<hr>*Cash Assets = Cash in Hand + Cash in Bank + Short Term Investment</div>
                    <div class="liquidity-analysis" id="cashRatioAnalysis"></div>
                </div>

                <div class="liquidity-card" id="workingCapitalCard">
                    <div class="liquidity-title"><span id="working_capital_tip">Working Capital</span></div>
                    <div class="liquidity-value" id="workingCapitalValue"></div>
                    <div class="formula">Working Capital = Current Assets - Current Liabilities</div>
                    <div class="liquidity-analysis" id="workingCapitalAnalysis"></div>
                </div>

                <div class="liquidity-card" id="inventoryWCcard">
                    <div class="liquidity-title"><span id="inventory_wc_tip">Inventory to Working Capital Ratio</span></div>
                    <div class="liquidity-value" id="inventoryWCValue"></div>
                    <div class="formula">IWCR = Inventory / Working Capital</div>
                    <div class="liquidity-analysis" id="inventoryWCAnalysis"></div>
                </div>
            </div>

            <h2 style="text-align:center; font-size:3rem; margin-top:10rem;"><span id="solvency_ratios_tip">Solvency Ratios</span></h2>
            <div class="solvency-grid">
                <div class="solvency-card" id="debtEquityCard">
                    <div class="solvency-title"><span id="debt_equity_tip">Debt to Equity Ratio</span></div>
                    <div class="solvency-value" id="debtEquityValue"></div>
                    <div class="formula">Debt to Equity = Total Debt / Shareholder's Equity<hr>*Total Debt = Total Longterm Debt + Total Current Liabilities</div>
                    <div class="solvency-analysis" id="debtEquityAnalysis"></div>
                </div>

                <div class="solvency-card" id="debtRatioCard">
                    <div class="solvency-title"><span id="debt_ratio_tip">Debt Ratio</span></div>
                    <div class="solvency-value" id="debtRatioValue"></div>
                    <div class="formula">Debt Ratio = Total Debt / Total Assets</div>
                    <div class="solvency-analysis" id="debtRatioAnalysis"></div>
                </div>

                <div class="solvency-card" id="proprietaryRatioCard">
                    <div class="solvency-title"><span id="proprietary_ratio_tip">Proprietary Ratio</span></div>
                    <div class="solvency-value" id="proprietaryRatioValue"></div>
                    <div class="formula">Proprietary Ratio = Shareholder's Equity / Total Assets</div>
                    <div class="solvency-analysis" id="proprietaryRatioAnalysis"></div>
                </div>

                <div class="solvency-card" id="fixedAssetsRatioCard">
                    <div class="solvency-title"><span id="fixed_assets_ratio_tip">Fixed Assets Ratio</span></div>
                    <div class="solvency-value" id="fixedAssetsRatioValue"></div>
                    <div class="formula">Fixed Assets Ratio = Fixed Assets / Longterm Funds<hr>*Longterm Funds = Shareholder's Equity + Longterm Debt</div>
                    <div class="solvency-analysis" id="fixedAssetsRatioAnalysis"></div>
                </div>
            </div>

            <h2 style="text-align:center; font-size:3rem; margin-top:10rem;"><span id="turnover_ratios_tip">Turnover Ratios</span></h2>
            <div class="turnover-grid">
                <div class="turnover-card">
                    <div class="turnover-title"><span id="fixed_assets_turnover_tip">Fixed Assets Turnover Ratio</span></div>
                    <div class="turnover-value" id="fixedAssetsTurnoverValue"></div>
                    <div class="formula">Fixed Assets Turnover Ratio = Net Sales / Fixed Assets</div>
                    <div class="turnover-analysis" id="fixedAssetsTurnoverAnalysis"></div>
                </div>

                <div class="turnover-card">
                    <div class="turnover-title"><span id="working_capital_turnover_tip">Working Capital Turnover Ratio</span></div>
                    <div class="turnover-value" id="workingCapitalTurnoverValue"></div>
                    <div class="formula">Working Capital Turnover Ratio = Net Sales OR COGS / Working Capital</div>
                    <div class="turnover-analysis" id="workingCapitalTurnoverAnalysis"></div>
                </div>

                <div class="turnover-card">
                    <div class="turnover-title"><span id="capital_turnover_tip">Capital Turnover Ratio</span></div>
                    <div class="turnover-value" id="capitalTurnoverValue"></div>
                    <div class="formula">Capital Turnover Ratio = COGS / Capital Employed(Shareholder's Fund)</div>
                    <div class="turnover-analysis" id="capitalTurnoverAnalysis"></div>
                </div>

                <div class="turnover-card">
                    <div class="turnover-title"><span id="creditors_turnover_tip">Creditors Turnover Ratio</span></div>
                    <label><span id="cash_purchases_tip">Cash Purchases</span> <input type="number" id="cashPurchases" value="0"></label>
                    <div class="turnover-value" id="creditorsTurnoverValue"></div>
                    <div class="formula">Creditors Turnover Ratio = Credit Purchases / Avg Creditors<hr>*Credit Purchases = Net Purchases - Cash Purchases<hr>*Avg Creditors = (Creditors + Bills Payable) / 2</div>
                    <div class="turnover-analysis" id="creditorsTurnoverAnalysis"></div>
                    <hr>
                    <div class="turnover-title"><span id="avg_payment_period_tip">Average Payment Period (days)</span></div>
                    <div class="turnover-value" id="avgPaymentPeriodValue"></div>
                </div>

                <div class="turnover-card">
                    <div class="turnover-title"><span id="debtors_turnover_tip">Debtors Turnover Ratio</span></div>
                    <label><span id="cash_sales_tip">Cash Sales</span> <input type="number" id="cashSales" value="0"></label>
                    <div class="turnover-value" id="debtorsTurnoverValue"></div>
                    <div class="formula">Debtors Turnover Ratio = Credit Sales / Avg Debtors<hr>*Credit Sales = Net Sales - Cash Sales<hr>*Avg Debtors = (Debtors + Bills Receivable) / 2</div>
                    <div class="turnover-analysis" id="debtorsTurnoverAnalysis"></div>
                    <hr>
                    <div class="turnover-title"><span id="avg_collection_period_tip">Average Collection Period (days)</span></div>
                    <div class="turnover-value" id="avgCollectionPeriodValue"></div>
                </div>

                <div class="turnover-card">
                    <div class="turnover-title"><span id="inventory_turnover_tip">Inventory Turnover Ratio</span></div>
                    <div class="turnover-value" id="stockTurnoverValue"></div>
                    <div class="formula">Stock Turnover Ratio = COGS / Avg Stock<hr>*Avg Stock = (Opening Stock + Closing Stock) / 2</div>
                    <div class="turnover-analysis" id="stockTurnoverAnalysis"></div>
                    <hr>
                    <div class="turnover-title"><span id="avg_age_inventory_tip">Average Age of Inventory (days)</span></div>
                    <div class="turnover-value" id="avgAgeInventoryValue"></div>
                </div>
            </div>
            <div style="text-align:center; margin:2rem;">
                <button id="backLiquidityBtn" class="button">Back</button>
            </div>
        </section>


        <section id="bank-statement" style="margin-top:10rem;">
            <h2 style="text-align:center; font-size: 4rem; color: #fffde7;">Bank Financial Statement</h2>
            <div class="bank-statement-frame">
                <!-- Liabilities & Capital -->
                <div class="bank-category">
                    <div class="bank-category-title">
                        <span>Liabilities & Capital</span>
                    </div>
                    
                    <!-- Capital -->
                    <div class="bank-row">
                        <span>Capital</span>
                        <div>
                            <span class="schedule">Sch. 1</span>
                            <input type="number" id="bankCapital" value="0">
                        </div>
                    </div>
        
                    <!-- Reserves & Surplus -->
                    <div class="bank-row">
                        <span>Reserves & Surplus</span>
                        <div>
                            <span class="schedule">Sch. 2</span>
                            <input type="number" id="bankReserves" value="0">
                        </div>
                    </div>
        
                    <!-- Deposits -->
                    <div class="bank-category">
                        <div class="bank-category-title">
                            <span>Deposits</span>
                            <span class="schedule">Sch. 3</span>
                        </div>
                        <div class="bank-deposits-subcategory">
                            <div class="bank-row">
                                <span>A. Demand Deposits</span>
                                <input type="number" id="demandDeposits" value="0">
                            </div>
                            <div class="bank-row">
                                <span>B. Savings Deposits</span>
                                <input type="number" id="savingsDeposits" value="0">
                            </div>
                            <div class="bank-row">
                                <span>C. Term Deposits</span>
                                <input type="number" id="termDeposits" value="0">
                            </div>
                        </div>
                        <div class="bank-total">
                            <span>Total Deposits</span>
                            <input type="number" id="totalDeposits" readonly value="0">
                        </div>
                    </div>
        
                    <!-- Borrowings -->
                    <div class="bank-row">
                        <span>Borrowings</span>
                        <div>
                            <span class="schedule">Sch. 4</span>
                            <input type="number" id="bankBorrowings" value="0">
                        </div>
                    </div>
        
                    <!-- Other Liabilities -->
                    <div class="bank-row">
                        <span>Other Liabilities & Provisions</span>
                        <div>
                            <span class="schedule">Sch. 5</span>
                            <input type="number" id="otherLiabilities" value="0">
                        </div>
                    </div>
        
                    <div class="bank-section-total">
                        <span>Total Liabilities & Capital</span>
                        <input type="number" id="totalLiabilitiesCapital" readonly value="0">
                    </div>
                </div>
        
                <!-- Assets -->
                <div class="bank-category">
                    <div class="bank-category-title">
                        <span>Assets</span>
                    </div>
        
                    <!-- Cash & Balances with RBI -->
                    <div class="bank-row">
                        <span>Cash & Balances with RBI</span>
                        <div>
                            <span class="schedule">Sch. 6</span>
                            <input type="number" id="cashRBI" value="0">
                        </div>
                    </div>
        
                    <!-- Balances with Banks -->
                    <div class="bank-row">
                        <span>Balances with Banks & Money at Call</span>
                        <div>
                            <span class="schedule">Sch. 7</span>
                            <input type="number" id="bankBalances" value="0">
                        </div>
                    </div>
        
                    <!-- Investments -->
                    <div class="bank-row">
                        <span>Investments</span>
                        <div>
                            <span class="schedule">Sch. 8</span>
                            <input type="number" id="investments" value="0">
                        </div>
                    </div>
        
                    <!-- Advances -->
                    <div class="bank-row">
                        <span>Loans & Advances</span>
                        <div>
                            <span class="schedule">Sch. 9</span>
                            <input type="number" id="advances" value="0">
                        </div>
                    </div>
        
                    <!-- Fixed Assets -->
                    <div class="bank-row">
                        <span>Fixed Assets</span>
                        <div>
                            <span class="schedule">Sch. 10</span>
                            <input type="number" id="fixedAssets" value="0">
                        </div>
                    </div>
        
                    <!-- Other Assets -->
                    <div class="bank-row">
                        <span>Other Assets</span>
                        <div>
                            <span class="schedule">Sch. 11</span>
                            <input type="number" id="otherAssets" value="0">
                        </div>
                    </div>
        
                    <div class="bank-section-total">
                        <span>Total Assets</span>
                        <input type="number" id="totalAssets" readonly value="0">
                    </div>
                </div>
                                
                <div class="bank-category">
                    <div class="bank-category-title">
                        <span>Income Statement</span>
                    </div>
                    <div class="bank-row">
                        <span>Interest Earned</span>
                        <div>
                            <span class="schedule">Sch. 13</span>
                            <input type="number" id="bankInterestEarned" value="0">
                        </div>
                    </div>
                    <div class="bank-row">
                        <span>Other Income</span>
                        <div>
                            <span class="schedule">Sch. 14</span>
                            <input type="number" id="bankOtherIncome" value="0">
                        </div>
                    </div>
                    <div class="bank-row">
                        <span>Interest Expended</span>
                        <div>
                            <span class="schedule">Sch. 15</span>
                            <input type="number" id="bankInterestExpended" value="0">
                        </div>
                    </div>
                    <div class="bank-row">
                        <span>Operating Expenses</span>
                        <div>
                            <span class="schedule">Sch. 16</span>
                            <input type="number" id="bankOperatingExpenses" value="0">
                        </div>
                    </div>
                    <div class="bank-total">
                        <span>Total Income</span>
                        <input type="number" id="bankTotalIncome" readonly value="0">
                    </div>
                    <div class="bank-total">
                        <span>Total Expenses</span>
                        <input type="number" id="bankTotalExpenses" readonly value="0">
                    </div>
                    <div class="bank-total">
                        <span>Net Interest Income</span>
                        <input type="number" id="bankNetInterestIncome" readonly value="0">
                    </div>
                    <div class="bank-section-total">
                        <span>Net Profit</span>
                        <input type="number" id="bankNetProfit" readonly value="0">
                    </div>
                </div>
                <div class="export-buttons" style="display: flex; justify-content: center; align-items: center; margin-bottom:1rem; gap:0.5rem;">
                    <button id="exportPDFBtn" class="button" style="display: flex; background-color: #6d04be;align-items: center; gap: 0.5em;">
                        <span>PDF</span>
                        <!-- Download SVG Icon -->
                        <svg id="downloadPdfIcon" width="22" height="22" viewBox="0 0 22 22" fill="none" style="vertical-align:middle;">
                            <circle cx="11" cy="11" r="11" fill="#fff" opacity="0.12"/>
                            <path d="M11 5v8m0 0l-3-3m3 3l3-3m-8 6h10" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div style="display: flex; justify-content: center; margin-top: 2rem; margin-bottom: 5rem;">
                <button id="analyseBankBtn" class="button">Analyse Bank Performance</button>
            </div>
        </section>

        
        <section id="bank-performance-dashboard" style="display:none;">
            <h2 style="text-align:center; font-size: 3rem; color: #fffde7; margin-top: 10rem;">Bank Performance Ratios</h2>
            <div class="bank-performance-grid">
                <!-- 1. Interest Income % -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Interest Income %</div>
                    <div class="bank-performance-value" id="interestIncomePercent"></div>
                    <div class="bank-performance-formula">Interest Income % = (Interest Earned ÷ Total Income) × 100</div>
                    <div class="bank-performance-analysis">
                        This ratio shows the proportion of total income earned from core banking activities like lending and investments. A <b>high value</b> indicates strong earning efficiency. A <b>low value</b> suggests reliance on non-core or uncertain income sources.
                    </div>
                </div>
                <!-- 2. Net Interest Income % -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Net Interest Income % (NII%)</div>
                    <div class="bank-performance-value" id="netInterestIncomePercent"></div>
                    <div class="bank-performance-formula">Net Interest Income % = (Net Interest Income ÷ Total Income) × 100</div>
                    <div class="bank-performance-analysis">
                        Measures the spread between interest earned and interest paid. <b>High ratio</b> shows effective asset-liability management, <b>low ratio</b> indicates narrow margins or high cost of funds.
                    </div>
                </div>
                <!-- 3. Net Profit Margin % -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Net Profit Margin % (NPM%)</div>
                    <div class="bank-performance-value" id="netProfitMarginPercent"></div>
                    <div class="bank-performance-formula">Net Profit Margin % = (Net Profit ÷ Total Income) × 100</div>
                    <div class="bank-performance-analysis">
                        Reflects profitability per unit of income. <b>High NPM</b> indicates efficient cost control and strong earnings. <b>Low NPM</b> implies higher operating costs or weaker revenue generation.
                    </div>
                </div>
                <!-- 4. Net Interest Margin (NIM%) -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Net Interest Margin (NIM%)</div>
                    <div class="bank-performance-value" id="netInterestMarginPercent"></div>
                    <div class="bank-performance-formula">NIM % = (Net Interest Income ÷ (Advances + Investments)) × 100</div>
                    <div class="bank-performance-analysis">
                        Indicates how efficiently the bank’s earning assets generate profit. <b>High NIM</b> means better returns, <b>low NIM</b> indicates poor yield or rising interest costs.
                    </div>
                </div>
                <!-- 5. Total Business -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Total Business</div>
                    <div class="bank-performance-value" id="totalBusiness"></div>
                    <div class="bank-performance-formula">Total Business = Total Deposits + Total Advances</div>
                    <div class="bank-performance-analysis">
                        Shows the overall operational size of the bank. <b>High total business</b> indicates strong growth and market presence. <b>Low value</b> may suggest limited lending or deposit mobilization.
                    </div>
                </div>
                <!-- 6. CASA Ratio -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">CASA Ratio</div>
                    <div class="bank-performance-value" id="casaRatio"></div>
                    <div class="bank-performance-formula">CASA Ratio = ((Demand Deposits + Savings Deposits) ÷ Total Deposits) × 100</div>
                    <div class="bank-performance-analysis">
                        Measures the proportion of low-cost deposits. <b>High CASA ratio</b> indicates cheap and stable funding. <b>Low CASA ratio</b> shows dependence on expensive term deposits.
                    </div>
                </div>
                <!-- 7. Loans to Deposits Ratio (LDR) -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Loans to Deposits Ratio (LDR)</div>
                    <div class="bank-performance-value" id="loansToDepositsRatio"></div>
                    <div class="bank-performance-formula">LDR = (Total Advances ÷ Total Deposits) × 100</div>
                    <div class="bank-performance-analysis">
                        Indicates how well the bank deploys its deposits into loans. <b>High LDR</b> shows efficient fund utilization, but if too high, it may pose liquidity risks. <b>Low LDR</b> implies underutilized deposits.
                    </div>
                </div>
                <!-- 8. Capital Adequacy Ratio (CAR) -->
                <div class="bank-performance-card">
                    <div class="bank-performance-title">Capital Adequacy Ratio (CAR)</div>
                    <div class="bank-performance-value" id="capitalAdequacyRatio"></div>
                    <div class="bank-performance-formula">
                        CAR = ((Capital + Reserves) ÷ Risk-Weighted Assets) × 100<br>
                        <label>Credit Risk RWA <input type="number" id="creditRiskRWA" value="0"></label>
                        <label>Market Risk RWA <input type="number" id="marketRiskRWA" value="0"></label>
                        <label>Operational Risk RWA <input type="number" id="operationalRiskRWA" value="0"></label>
                    </div>
                    <div class="bank-performance-analysis">
                        Measures the bank’s capital strength against risks. <b>High CAR</b> reflects strong solvency and depositor safety. <b>Low CAR</b> (below regulatory minimum, e.g., 9%) indicates weak capital buffer and higher financial risk.
                    </div>
                </div>
            </div>
            <div style="text-align:center; margin:2rem;">
                <button id="backBankPerformanceBtn" class="button">Back</button>
            </div>
        </section>

        <!-- Floating Circular Buttons -->
        <div class="floating-buttons">
            <div class="circle-btn" id="income-button">
                <img src="profit.gif" alt="Income Statement">
            </div>
            <div class="circle-btn" id="balance-button">
                <img src="investment.gif" alt="Balance Sheet">
            </div>
            <div class="circle-btn" id="bank-button">
            <img src="bank.gif" alt="Bank Statement">
            </div>
        </div>
    </main>
    <footer>
        <div style="text-align:center; margin-top: 2rem;">
            <p>Total Visits: <span id="count">0</span></p>
        </div>
        <p style="text-align:center; margin-bottom:10px;">&copy; 2025 Financial Analysis Website. All rights reserved.</p>
    </footer>

    <script>
  const countElement = document.getElementById('count');

  update();

  function update() {
    // encode your domain safely so CountAPI accepts it as a namespace
    const namespace = encodeURIComponent('https://financial-statement-analyser.vercel.app/');
    const key = 'visits';

    fetch(`https://api.countapi.xyz/update/${namespace}/${key}/?amount=1`)
      .then(res => res.json())
      .then(res => {
        countElement.innerHTML = res.value;
      })
      .catch(err => {
        console.error('Error fetching visit count:', err);
      });
  }
</script>

    <script src="tooltips.js"></script>
    <script src="main.js"></script>
</body>
</html>
